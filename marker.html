<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
	<meta name="apple-mobile-web-app-capable" content="yes">
    <title>View AR</title>
	<script src="https://aframe.io/releases/1.0.0/aframe.min.js"></script>
    <!-- we import arjs version without NFT but with marker + location based support -->
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
	<script>
		window.onload = function() {
			AFRAME.registerComponent('vidhandler', {
				init: function () {
					this.vid_1 = document.querySelector("#vid_1");
					this.vid_2 = document.querySelector("#vid_2");
					this.el.sceneEl.addEventListener('markerFound', () => {
						this.vid_1.play();
						this.vid_2.play();
					});
					/*marker.addEventListener('markerFound', function () {
						this.vid_1.play();
						this.vid_2.play();
					}.bind(this));
					marker.addEventListener('markerLost', function() {
						this.vid_1.pause();
						this.vid_1.currentTime = 0;
						this.vid_2.pause();
						this.vid_2.currentTime = 0;
						
					}.bind(this));*/
				}
			});
		};
	</script>
</head>

<body style='margin: 0px; overflow: hidden;'>
	<a-scene 
		vr-mode-ui="enabled: false;"
        renderer='antialias: true; alpha: true; precision: mediump;'
        embedded arjs='trackingMethod: best; sourceType: webcam; debugUIEnabled: false;'>
		
		<a-assets>
            <video src="./assets/poster/video/1_Trim.mp4"
                preload="auto" id="vid_1" response-type="arraybuffer" loop
                crossorigin webkit-playsinline autoplay="true" muted playsinline controls>
            </video>
			<video src="./assets/poster/video/2.mp4"
                preload="auto" id="vid_2" response-type="arraybuffer" loop
                crossorigin webkit-playsinline autoplay="true" muted playsinline controls>
            </video>
			<video src="./assets/poster/video/3_Trim.mp4"
                preload="auto" id="vid_3" response-type="arraybuffer" loop
                crossorigin webkit-playsinline autoplay="true" muted playsinline controls>
            </video>
			<video src="./assets/poster/video/4_Trim.mp4"
                preload="auto" id="vid_4" response-type="arraybuffer" loop
                crossorigin webkit-playsinline autoplay="true" muted playsinline controls>
            </video>
			<video src="./assets/poster/video/5_Trim.mp4"
                preload="auto" id="vid_5" response-type="arraybuffer" loop
                crossorigin webkit-playsinline autoplay="true" muted playsinline controls>
            </video>
			<video src="./assets/poster/video/6_Trim.mp4"
                preload="auto" id="vid_6" response-type="arraybuffer" loop
                crossorigin webkit-playsinline autoplay="true" muted playsinline controls>
            </video>
			<video src="./assets/poster/video/8_Trim.mp4"
                preload="auto" id="vid_8" response-type="arraybuffer" loop
                crossorigin webkit-playsinline autoplay="true" muted playsinline controls>
            </video>
			<video src="./assets/poster/video/9_Trim.mp4"
                preload="auto" id="vid_9" response-type="arraybuffer" loop
                crossorigin webkit-playsinline autoplay="true" muted playsinline controls>
            </video>
		</a-assets>
    	<a-marker preset='custom' type='pattern' url='assets/poster/marker/pattern-1.patt' vidhandler>
			<a-video src="#vid_1" position='0 0 0' rotation='270 0 0' width='0.45' height='0.8'></a-video>
		</a-marker>
		<a-marker preset='custom' type='pattern' url='assets/poster/marker/pattern-2.patt' vidhandler>
			<a-video src="#vid_2" position='0 0 0' rotation='270 0 0' width='0.8' height='0.4'></a-video>
		</a-marker>
		<!--<a-marker preset='custom' type='pattern' url='assets/poster/marker/pattern-3.patt' vidhandler="video: #vid_3">
			<a-video src="#vid_3" position='0 0 0' rotation='270 0 0' width='0.45' height='0.8'></a-video>
		</a-marker>
		<a-marker preset='custom' type='pattern' url='assets/poster/marker/pattern-4.patt' vidhandler="video: #vid_4">
			<a-video src="#vid_4" position='0 0 0' rotation='270 0 0' width='0.45' height='0.8'></a-video>
		</a-marker>
		<a-marker preset='custom' type='pattern' url='assets/poster/marker/pattern-5.patt' vidhandler="video: #vid_5">
			<a-video src="#vid_5" position='0 0 0' rotation='270 0 0' width='0.45' height='0.8'></a-video>
		</a-marker>
		<a-marker preset='custom' type='pattern' url='assets/poster/marker/pattern-6.patt' vidhandler="video: #vid_6">
			<a-video src="#vid_6" position='0 0 0' rotation='270 0 0' width='0.45' height='0.8'></a-video>
		</a-marker>
		<a-marker preset='custom' type='pattern' url='assets/poster/marker/pattern-8.patt' vidhandler="video: #vid_8">
			<a-video src="#vid_8" position='0 0 0' rotation='270 0 0' width='0.45' height='0.8'></a-video>
		</a-marker>
		<a-marker preset='custom' type='pattern' url='assets/poster/marker/pattern-9.patt' vidhandler="video: #vid_9">
			<a-video src="#vid_9" position='0 0 0' rotation='270 0 0' width='0.45' height='0.8'></a-video>
		</a-marker>-->
		<a-entity camera></a-entity>
		
    </a-scene>
</body>
</html>