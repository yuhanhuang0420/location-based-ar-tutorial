<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
	<meta name="apple-mobile-web-app-capable" content="yes">
    <title>View AR</title>
	<!--<script src="https://aframe.io/releases/1.0.0/aframe.min.js"></script>
     we import arjs version without NFT but with marker + location based support 
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
	<script>
		window.onload = function() {
			AFRAME.registerComponent('vidhandler', {
				init: function () {
					this.vid_1 = document.querySelector("#vid_1");
					this.vid_2 = document.querySelector("#vid_2");
					this.el.sceneEl.addEventListener('markerFound', () => {
						this.vid_1.play();
						this.vid_2.play();
					});
					/*marker.addEventListener('markerFound', function () {
						this.vid_1.play();
						this.vid_2.play();
					}.bind(this));
					marker.addEventListener('markerLost', function() {
						this.vid_1.pause();
						this.vid_1.currentTime = 0;
						this.vid_2.pause();
						this.vid_2.currentTime = 0;
						
					}.bind(this));*/
				}
			});
		};
	</script>
	<script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
	<script src="https://cdn.rawgit.com/jeromeetienne/AR.js/1.6.0/aframe/build/aframe-ar.js"></script>-->
	<script src="https://aframe.io/releases/1.0.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
	<script>
		AFRAME.registerComponent('vidhandler', {
			schema: {
			  target: {type: 'string'}
			},
			init: function() {
				this.videoNodes = document.querySelectorAll(this.data.target)
			},
			tick: function() {
				if (this.el.object3D.visible == true) {
					if (!this.toggle) {
						this.toggle = true;
						for (let i = 0; i < this.videoNodes.length; i++) {
							this.videoNodes[i].play();
						} 
					}
				} else {
					if (this.toggle) {
					  for (let i = 0; i < this.videoNodes.length; i++) {
						this.videoNodes[i].pause();
					  }
					  this.toggle = false;
					}
				}
			}
		});
	</script>
</head>
	
<body style='margin: 0px; overflow: hidden;'>
	<a-scene vr-mode-ui="enabled: false;" embedded arjs>
		<a-assets>
			<video id="vid_1" loop="true" crossorigin="anonymous" autoplay loop muted playsinline 
				   src="./assets/poster/video/1_Trim.mp4"></video>
			<video id="vid_2" loop="true" crossorigin="anonymous" autoplay loop muted playsinline 
				   src="./assets/poster/video/2.mp4"></video>
			<video id="vid_3" loop="true" crossorigin="anonymous" autoplay loop muted playsinline 
				   src="./assets/poster/video/3_Trim.mp4"></video>
			<video id="vid_4" loop="true" crossorigin="anonymous" autoplay loop muted playsinline 
				   src="./assets/poster/video/4_Trim.mp4"></video>
			<video id="vid_5" loop="true" crossorigin="anonymous" autoplay loop muted playsinline 
				   src="./assets/poster/video/5_Trim.mp4"></video>
			<video id="vid_6" loop="true" crossorigin="anonymous" autoplay loop muted playsinline 
				   src="./assets/poster/video/6_Trim.mp4"></video>
			<video id="vid_8" loop="true" crossorigin="anonymous" autoplay loop muted playsinline 
				   src="./assets/poster/video/8_Trim.mp4"></video>
			<video id="vid_9" loop="true" crossorigin="anonymous" autoplay loop muted playsinline 
				   src="./assets/poster/video/9_Trim.mp4"></video>
			<img id="img_1" src="./assets/poster/image/arrow-track.png">
			<img id="img_2" src="./assets/poster/image/arrow-render.png">
			<img id="img_3" src="./assets/poster/image/arrow-interact.png">
		</a-assets>
		<a-marker preset='custom' type='pattern' url='assets/poster/marker/pattern-1.patt' vidhandler="target: #vid_1">
			<a-video src="#vid_1" position='0 0 0' rotation='270 0 0' width='2'></a-video>
		</a-marker>
		<a-marker preset='custom' type='pattern' url='assets/poster/marker/pattern-2.patt' vidhandler="target: #vid_2">
			<a-video src="#vid_2" position='0 0 0' rotation='270 0 0' width='0.8' height='0.4'></a-video>
		</a-marker>
		<a-marker preset='custom' type='pattern' url='assets/poster/marker/pattern-3.patt' vidhandler="target: #vid_3">
			<a-video src="#vid_3" position='0 0 0' rotation='270 0 0' width='0.45' height='0.8'></a-video>
		</a-marker>
		<a-marker preset='custom' type='pattern' url='assets/poster/marker/pattern-4.patt' vidhandler="target: #vid_4">
			<a-video src="#vid_4" position='0 0 0' rotation='270 0 0' width='0.45' height='0.8'></a-video>
		</a-marker>
		<a-marker preset='custom' type='pattern' url='assets/poster/marker/pattern-5.patt' vidhandler="target: #vid_5">
			<a-video src="#vid_5" position='0 0 0' rotation='270 0 0' width='0.45' height='0.8'></a-video>
		</a-marker>
		<a-marker preset='custom' type='pattern' url='assets/poster/marker/pattern-6.patt' vidhandler="target: #vid_6">
			<a-video src="#vid_6" position='0 0 0' rotation='270 0 0' width='0.45' height='0.8'></a-video>
		</a-marker>
		<a-marker preset='custom' type='pattern' url='assets/poster/marker/pattern-8.patt' vidhandler="target: #vid_8">
			<a-video src="#vid_8" position='0 0 0' rotation='270 0 0' width='0.45' height='0.8'></a-video>
		</a-marker>
		<a-marker preset='custom' type='pattern' url='assets/poster/marker/pattern-9.patt' vidhandler="target: #vid_9">
			<a-video src="#vid_9" position='0 0 0' rotation='270 0 0' width='0.45' height='0.8'></a-video>
		</a-marker>
		<a-marker preset='custom' type='pattern' url='assets/poster/marker/pattern-ARcube.patt' vidhandler="target: #vid_1, #vid_2, #vid_3, #vid_4, #vid_5, #vid_6, #vid_8, #vid_9">
			<a-image src="#img_1" position="0 3 1.5" rotation='-90 0 0'></a-image>
			<a-image src="#img_2" position="-1.5 1.5 1.5" rotation='0 0 270'></a-image>
			<a-image src="#img_3" position="-1.5 3 0" rotation='0 90 0'></a-image>
			
			<a-text value="[Without-tracking]" color='#089f8a' align='center' position="-1 3 1.6" rotation='-90 0 0' scale='0.4 0.4 0.4' look-at="[camera]"></a-text>
			<a-text value="[Feature-based]" color='#089f8a' align='center' position="0 3 1.6" rotation='-90 0 0' scale='0.4 0.4 0.4' look-at="[camera]"></a-text>
			<a-text value="[Location-based]" color='#089f8a' align='center' position="1 3 1.6" rotation='-90 0 0' scale='0.4 0.4 0.4' look-at="[camera]"></a-text>
			<a-text value="[Additional-info]" color='#00b0f0' align='right' position="-1.5 2.5 1.5" rotation='-90 0 0' scale='0.4 0.4 0.4' look-at="[camera]"></a-text>
			<a-text value="[Relative-position]" color='#00b0f0' align='right' position="-1.5 1.5 1.5" rotation='-90 0 0' scale='0.4 0.4 0.4' look-at="[camera]"></a-text>
			<a-text value="[Absolute-position]" color='#00b0f0' align='right' position="-1.5 0.5 1.5" rotation='-90 0 0' scale='0.4 0.4 0.4' look-at="[camera]"></a-text>
			<a-text value="[Augmented-only]" color='#7030a0' align='center' position="-1.6 3 1" rotation='-90 0 0' scale='0.4 0.4 0.4' look-at="[camera]"></a-text>
			<a-text value="[Interactive]" color='#7030a0' align='center' position="-1.6 3 0" rotation='-90 0 0' scale='0.4 0.4 0.4' look-at="[camera]"></a-text>
			<a-text value="[Collaborative]" color='#7030a0' align='center' position="-1.6 3 -1" rotation='-90 0 0' scale='0.4 0.4 0.4' look-at="[camera]"></a-text>
			
			<a-box position="-1 2 1" material='src: #vid_1'></a-box>
			<a-box position="0 1 1" material='src: #vid_2'></a-box>
			<a-box position="1 0 0" material='src: #vid_3'></a-box>
			<a-box position="0 2 1" material='src: #vid_4'></a-box>
			<a-box position="0 1 0" material='src: #vid_5'></a-box>
			<a-box position="1 0 1" material='src: #vid_6'></a-box>
			<a-box position="1 1 0" material='src: #vid_8'></a-box>
			<a-box position="0 1 -1" material='src: #vid_9'></a-box>
		</a-marker>
		<a-entity camera></a-entity>
	</a-scene>
	<!--<a-scene 
		vr-mode-ui="enabled: false;"
        renderer='antialias: true; alpha: true; precision: mediump;'
        embedded arjs='trackingMethod: best; sourceType: webcam; debugUIEnabled: false;'>
		
		<a-assets>
            <video src="./assets/poster/video/1_Trim.mp4"
                preload="auto" id="vid_1" response-type="arraybuffer" loop
                crossorigin webkit-playsinline autoplay="true" muted playsinline controls>
            </video>
			<video src="./assets/poster/video/2.mp4"
                preload="auto" id="vid_2" response-type="arraybuffer" loop
                crossorigin webkit-playsinline autoplay="true" muted playsinline controls>
            </video>
			<video src="./assets/poster/video/3_Trim.mp4"
                preload="auto" id="vid_3" response-type="arraybuffer" loop
                crossorigin webkit-playsinline autoplay="true" muted playsinline controls>
            </video>
			<video src="./assets/poster/video/4_Trim.mp4"
                preload="auto" id="vid_4" response-type="arraybuffer" loop
                crossorigin webkit-playsinline autoplay="true" muted playsinline controls>
            </video>
			<video src="./assets/poster/video/5_Trim.mp4"
                preload="auto" id="vid_5" response-type="arraybuffer" loop
                crossorigin webkit-playsinline autoplay="true" muted playsinline controls>
            </video>
			<video src="./assets/poster/video/6_Trim.mp4"
                preload="auto" id="vid_6" response-type="arraybuffer" loop
                crossorigin webkit-playsinline autoplay="true" muted playsinline controls>
            </video>
			<video src="./assets/poster/video/8_Trim.mp4"
                preload="auto" id="vid_8" response-type="arraybuffer" loop
                crossorigin webkit-playsinline autoplay="true" muted playsinline controls>
            </video>
			<video src="./assets/poster/video/9_Trim.mp4"
                preload="auto" id="vid_9" response-type="arraybuffer" loop
                crossorigin webkit-playsinline autoplay="true" muted playsinline controls>
            </video>
		</a-assets>
    	<a-marker preset='custom' type='pattern' url='assets/poster/marker/pattern-1.patt' vidhandler>
			<a-video src="#vid_1" position='0 0 0' rotation='270 0 0' width='0.45' height='0.8'></a-video>
		</a-marker>
		<a-marker preset='custom' type='pattern' url='assets/poster/marker/pattern-2.patt' vidhandler>
			<a-video src="#vid_2" position='0 0 0' rotation='270 0 0' width='0.8' height='0.4'></a-video>
		</a-marker>
		<a-marker preset='custom' type='pattern' url='assets/poster/marker/pattern-3.patt' vidhandler="video: #vid_3">
			<a-video src="#vid_3" position='0 0 0' rotation='270 0 0' width='0.45' height='0.8'></a-video>
		</a-marker>
		<a-marker preset='custom' type='pattern' url='assets/poster/marker/pattern-4.patt' vidhandler="video: #vid_4">
			<a-video src="#vid_4" position='0 0 0' rotation='270 0 0' width='0.45' height='0.8'></a-video>
		</a-marker>
		<a-marker preset='custom' type='pattern' url='assets/poster/marker/pattern-5.patt' vidhandler="video: #vid_5">
			<a-video src="#vid_5" position='0 0 0' rotation='270 0 0' width='0.45' height='0.8'></a-video>
		</a-marker>
		<a-marker preset='custom' type='pattern' url='assets/poster/marker/pattern-6.patt' vidhandler="video: #vid_6">
			<a-video src="#vid_6" position='0 0 0' rotation='270 0 0' width='0.45' height='0.8'></a-video>
		</a-marker>
		<a-marker preset='custom' type='pattern' url='assets/poster/marker/pattern-8.patt' vidhandler="video: #vid_8">
			<a-video src="#vid_8" position='0 0 0' rotation='270 0 0' width='0.45' height='0.8'></a-video>
		</a-marker>
		<a-marker preset='custom' type='pattern' url='assets/poster/marker/pattern-9.patt' vidhandler="video: #vid_9">
			<a-video src="#vid_9" position='0 0 0' rotation='270 0 0' width='0.45' height='0.8'></a-video>
		</a-marker>
		<a-entity camera></a-entity>
		
    </a-scene>-->
</body>
</html>